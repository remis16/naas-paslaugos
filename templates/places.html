{% extends "base.html" %}

{% block title %}Vietos ir Lankytini Objektai{% endblock %}

{% block content %}
<div class="space-y-8">
    <h1 class="text-3xl font-extrabold text-gray-900 border-b pb-2 flex items-center">
        <i data-lucide="building-2" class="w-8 h-8 mr-3 text-blue-600"></i> Vietos ir Lankytini Objektai
    </h1>

    <p class="text-lg text-gray-600">
        Atraskite populiariausias ir įdomiausias vietas Naas mieste.
    </p>

    {% if places %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for place in places %}
                <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition duration-300 overflow-hidden border border-gray-100">
                    
                    {% set img_path = place.image if place.image and place.image != 'uploads/' else 'images/default_place.jpg' %}

                    <div class="h-48 bg-gray-200 overflow-hidden">
                        <img src="{{ url_for('static', filename=img_path) }}" 
                             alt="{{ place.name }}" 
                             class="w-full h-full object-cover transition duration-500 hover:scale-105">
                    </div>

                    <div class="p-6">
                        <h2 class="text-xl font-bold text-gray-900 mb-2">{{ place.name }}</h2>
                        <p class="text-gray-600 mb-4">{{ place.description }}</p>

                        <div class="space-y-2 text-sm">
                            <p class="flex items-start text-gray-700">
                                <i data-lucide="map-pin" class="w-4 h-4 mr-2 mt-1 flex-shrink-0 text-red-500"></i>
                                {{ place.address }}
                            </p>
                            {% if place.link %}
                                <a href="{{ place.link }}" target="_blank" class="flex items-center text-blue-600 hover:text-blue-800 transition">
                                    <i data-lucide="globe" class="w-4 h-4 mr-2"></i> Plačiau / Svetainė
                                </a>
                            {% endif %}
                            {% if place.maps %}
                                <a href="{{ place.maps }}" target="_blank" class="flex items-center text-green-600 hover:text-green-800 transition">
                                    <i data-lucide="map" class="w-4 h-4 mr-2"></i> Žemėlapis
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="bg-yellow-100 p-6 rounded-lg border-l-4 border-yellow-500 text-yellow-700">
            <p class="font-semibold">⚠️ Informacija: Vietos dar nepridėtos.</p>
            <p class="text-sm mt-1">Nėra jokių vietų duomenų bazėje. Pridėkite jas per administratoriaus panelę (jei yra).</p>
        </div>
    {% endif %}

    <a href="{{ url_for('index') }}" class="inline-flex items-center text-gray-600 hover:text-gray-900 transition mt-6 pt-4 border-t border-gray-200">
        <i data-lucide="home" class="w-5 h-5 mr-1"></i> Grįžti į Pagrindinį Puslapį
    </a>
</div>
{% endblock %}